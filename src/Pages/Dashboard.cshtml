@page
@model CampusConnect.WebSite.Pages.DashboardModel
@{
    ViewData["Title"] = "Dashboard";
    ViewData["UseFluidContainer"] = true; // Signal to _Layout.cshtml to use a wider container
}

<div class="dashboard-grid">
    @* Main row, no gutters *@
    @* 1. Left Panel (Main Navigation) *@
    <div class="navigation-panel">
        @* Using col-md-2 for stability *@
        <h5 class="nav-heading-custom-bold">Navigation</h5>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link px-2 py-1 nav-link-custom-bold @(Model.ActiveView == "Jobs" ? "active" : "")" asp-page="/Dashboard" asp-page-handler="ShowJobs">Jobs</a>
            </li>
            <li class="nav-item">
                <a class="nav-link px-2 py-1 nav-link-custom-bold @(Model.ActiveView == "Employers" ? "active" : "")" asp-page="/Dashboard" asp-page-handler="ShowEmployers">Employers</a>
            </li>
            @* Keep Events commented for now
            <li class="nav-item">
                <a class="nav-link px-2 py-1 nav-link-custom-bold" href="#">Events</a>
            </li>
            *@
        </ul>
    </div>

    @* 2. Right Panel (Contains Filters, List, Details) *@
    <div class="dashboard-main-content">
        @* Takes remaining width *@
        <div class="row g-0">
            @* Nested row for the sub-layout *@
            @if (Model.ActiveView == "Jobs")
            {
                @await Html.PartialAsync("Shared/_JobsPanel", Model)
            }
            else if (Model.ActiveView == "Employers")
            {
                @await Html.PartialAsync("Shared/_EmployersPanel", Model)
            }
        </div>
    </div>
</div>